<?php /* Template Name: Checklist PDF */ ?><?phpfunction getIndex($name, $array){    foreach($array as $key => $value){        if(is_array($value) && $value['name'] == $name)              return $key;    }    return null;}$checklist_task_id = $_GET['id'];global $wpdb;$table_name = $wpdb->prefix . "custom_checklist_task";$tasks_checklist = $wpdb->get_row("SELECT * FROM {$table_name} WHERE ID='$checklist_task_id'");$task_checklist_template = $tasks_checklist->task_checklist_template;$task_checklist_project_name = $tasks_checklist->task_checklist_project_name;$task_checklist_client_name = $tasks_checklist->task_checklist_client_name;$task_checklist_date_created = $tasks_checklist->task_checklist_date_created;$task_checklist_date_completed = $tasks_checklist->task_checklist_date_completed;$task_checklist_items = unserialize($tasks_checklist->task_checklist_items);$pdf_items = array();$check_array_parent_key = array();foreach($task_checklist_items as $priority_category => $task_checklist_item){	$priority_category_explode = explode('_', $priority_category);	$category = $priority_category_explode[1];			$item_count += count($task_checklist_item);		foreach($task_checklist_item as $key => $task_checklist){		$task_checklist_explode = explode('<__>', $task_checklist);		$checklist_name = $task_checklist_explode[0];		$checklist_description = $task_checklist_explode[1];		if($category != $temp_category){			$temp_category = $category;			$pdf_items[][] = $temp_category;		}else{			$pdf_items[][] = " ";					}		$check_array_parent_key[] = $category ."_". $key;		$insert_key = array_search($category ."_". $key, $check_array_parent_key);		$pdf_items[$insert_key][1]	= $checklist_name;		$pdf_items[$insert_key][2]	= $checklist_description;			}}?><?phprequire('make_pdf/mc_table.php');$pdf=new PDF_MC_Table();$pdf->AddPage();$pdf->SetFont('Arial','',10);$pdf->SetWidths(array(63,63,63));srand(microtime()*1000000);$pdf->Row(array('Catergory','Title','Description'));foreach($pdf_items as $pdf_item){	 $pdf->Row(array($pdf_item[0],$pdf_item[1],$pdf_item[2]));}   $pdf->Output();?>