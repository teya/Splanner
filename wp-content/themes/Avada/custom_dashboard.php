<?php /* Template Name: Dashboard */ ?><?php get_header(); ?><?php if ( is_user_logged_in() ){ ?><?php 	global $wpdb;$current_user_details = wp_get_current_user();$current_user_fullname = $current_user_details->data->display_name;$current_user_role = $current_user_details->roles[0];$table_name_person = $wpdb->prefix . "custom_person"; $table_name_client = $wpdb->prefix . "custom_client"; $table_name_timesheet = $wpdb->prefix . "custom_timesheet"; $table_name_goals = $wpdb->prefix . "custom_goals"; $table_name_project = $wpdb->prefix . "custom_project";$table_name_monthly_plan = $wpdb->prefix . "custom_monthly_plan";$table_name_task = $wpdb->prefix . "custom_task";$person = $wpdb->get_row("SELECT * FROM {$table_name_person} WHERE person_fullname = '$current_user_fullname'");$timesheets = $wpdb->get_row("SELECT * FROM {$table_name_timesheet} WHERE task_person = '$current_user_fullname'");$goals = $wpdb->get_results("SELECT * FROM {$table_name_goals}");$person_firstname = $person->person_first_name;$timezone = get_option('timezone_string'); date_default_timezone_set($timezone);/* empty task */$end_date = date("Y-m-d", strtotime("yesterday"));// $yesterday = date("d/m/Y", strtotime("yesterday"));$date = date_create($end_date);date_sub($date,date_interval_create_from_date_string("5 days"));$start_date = date_format($date,"Y-m-d");$date_range = date_range($start_date, $end_date);$persons = $wpdb->get_results("SELECT * FROM {$table_name_person}");$current_person = $wpdb->get_row("SELECT * FROM {$table_name_person} WHERE person_fullname = '$current_user_fullname'");$empty_dates_array = array();foreach($date_range as $date){	$explode_date = explode('/', $date);	$day = $explode_date[0];	$month = $explode_date[1];	$year = $explode_date[2];	$date_format = $year."/".$month."/".$day;	$day_number = date('w', strtotime($date_format));						if($day_number != 0 && $day_number != 6){		$timesheet_empty_days = $wpdb->get_results("SELECT * FROM {$table_name_timesheet} WHERE task_person = '$current_user_fullname' AND date_now = '$date'");						if($timesheet_empty_days == null){			$empty_dates_array[] = $date;					}	}}if($empty_dates_array != null){	$comma = '';	foreach ($empty_dates_array as $empty_dates){		$empty_date .= $comma . $empty_dates;		$comma = ', ';	}	$empty_date_message = "You have no hours reported for " . $empty_date . ". Please fill in your timesheet asap.";}$year = date('Y');$month_name = date('F');$month_number = date('m');$yesterday = date("Y-m-d", strtotime("yesterday"));$month_start_date = date("Y-".$month_number."-01");$month_date_range = date_range($month_start_date, $yesterday);$month_empty_dates_array = array();	foreach($month_date_range as $date){	$explode_date = explode('/', $date);	$day = $explode_date[0];	$month = $explode_date[1];	$year = $explode_date[2];	$date_format = $year."/".$month."/".$day;	$day_number = date('w', strtotime($date_format));	if($day_number != 0 && $day_number != 6){		foreach($persons as $person){			$person_fullname = $person->person_fullname;			$person_time_track = $person->person_time_track;			if($person_time_track == 1){				$month_timesheet_empty_days = $wpdb->get_results("SELECT * FROM {$table_name_timesheet} WHERE task_person='$person_fullname' AND date_now = '$date'");							if($month_timesheet_empty_days == null){					$month_empty_dates_array[$person_fullname][] = $date;				}			}		}	}	}if($month_empty_dates_array != null){	$comma = '';	$month_empty_date_message_array = array();	foreach ($month_empty_dates_array as $task_person => $empty_dates){				foreach($empty_dates as $empty_date){			if(!array_key_exists($task_person, $month_empty_date_message_array)){				$month_empty_date_message_array[$task_person] = $empty_date;			}else{				$month_empty_date_message_array[$task_person] = $month_empty_date_message_array[$task_person] . ", " . $empty_date;			}		}	}}$week_start_date = date("Y-m-d", strtotime('monday this week'));$week_date_range = date_range($week_start_date, $yesterday);$week_empty_dates_array = array();	foreach($week_date_range as $date){	$explode_date = explode('/', $date);	$day = $explode_date[0];	$month = $explode_date[1];	$year = $explode_date[2];	$date_format = $year."/".$month."/".$day;	$day_number = date('w', strtotime($date_format));	if($day_number != 0 && $day_number != 6){		foreach($persons as $person){			$person_fullname = $person->person_fullname;			$person_time_track = $person->person_time_track;			if($person_time_track == 1){				$week_timesheet_empty_days = $wpdb->get_results("SELECT * FROM {$table_name_timesheet} WHERE task_person='$person_fullname' AND date_now = '$date'");							if($week_timesheet_empty_days == null){					$week_empty_dates_array[$person_fullname][] = $date;				}			}		}	}	}if($week_empty_dates_array != null){	$comma = '';	$week_empty_date_message_array = array();	foreach ($week_empty_dates_array as $task_person => $empty_dates){				foreach($empty_dates as $empty_date){			if(!array_key_exists($task_person, $week_empty_date_message_array)){				$week_empty_date_message_array[$task_person] = $empty_date;				}else{				$week_empty_date_message_array[$task_person] = $week_empty_date_message_array[$task_person] . ", " . $empty_date;			}		}	}}/* END empty task */?><?php test_mail(); ?><div class="dashboard">	<input type="hidden" value="<?php echo $current_user_fullname; ?>" class="current_user_fullname" />	<input type="hidden" value="<?php echo $current_user_role; ?>" class="current_user_role" />		<div class="full_width first_section">		<div class="one_half">			<?php if($current_user_role != 'administrator'){ ?>			<div class="data_container message">				<div class="data_title">					<h3 class="title">Messages</h3>				</div>				<div class="data_content inner_padding">					<p class="text_red"><?php echo $empty_date_message; ?></p>					<div class="custom_message">												<?php 							$table_name = $wpdb->prefix . "custom_message"; 							$messages = $wpdb->get_results("SELECT * FROM {$table_name}");							foreach($messages as $message){								if($message->message_type == 'Global'){									$message_lists = unserialize($message->message);									foreach($message_lists as $message_list){										$message_list_explode = explode('_', $message_list);										$global_message = $message_list_explode[0];						?>										<li><?php echo $global_message; ?></li>						<?php													}								}							}						?>												<?php 							foreach($messages as $message){								if($message->message_type == 'Personal' && $message->message_person == $current_user_fullname){									$message_lists = unserialize($message->message);									foreach($message_lists as $message_list){										$message_list_explode = explode('_', $message_list);										$personal_message = $message_list_explode[0];									?>									<li><?php echo $personal_message; ?></li>									<?php													}								}							}						?>					</div>					<a class="button_1 dashboard_add_link" href="/add-message/">Add Message</a>				</div>							</div>			<?php }else{ ?>			<div class="data_container message">				<div class="tab-holder">					<div class="tab-hold tabs-wrapper">						<div class="">							<ul id="tabs" class="tabset tabs">																<li class="tabs_li active"><a href="#message_tab"><div class="data_title"><h3 class="title">Message</h3></div></a></li>								<li class="tabs_li"><a href="#empty_week_hours"><div class="data_title"><h3 class="title">Empty Week Hours</h3></div></a></li>								<li class="tabs_li"><a href="#empty_month_hours"><div class="data_title"><h3 class="title">Empty Month Hours</h3></div></a></li>															</ul>						</div>						<div class="data_content inner_padding">							<div class="tab-box tabs-container custom_goal">																<div id="message_tab" class="tab tab_content active">									<p class="text_red"><?php echo $empty_date_message; ?></p>									<div class="custom_message">																<?php 											$table_name = $wpdb->prefix . "custom_message"; 											$messages = $wpdb->get_results("SELECT * FROM {$table_name}");											foreach($messages as $message){												if($message->message_type == 'Global'){													$message_lists = unserialize($message->message);													foreach($message_lists as $message_list){														$message_list_explode = explode('_', $message_list);														$global_message = $message_list_explode[0];													?>													<li><?php echo $global_message; ?></li>													<?php																	}												}											}										?>																<?php 											foreach($messages as $message){												if($message->message_type == 'Personal' && $message->message_person == $current_user_fullname){													$message_lists = unserialize($message->message);													foreach($message_lists as $message_list){														$message_list_explode = explode('_', $message_list);														$personal_message = $message_list_explode[0];													?>													<li><?php echo $personal_message; ?></li>													<?php																	}												}											}										?>									</div>									<a class="button_1 dashboard_add_link" href="/add-message/">Add Message</a>								</div>								<div id="empty_week_hours" class="tab tab_content"  style="display: none;">																	<?php 										if($week_empty_date_message_array != null){											foreach($week_empty_date_message_array as $person_fullname => $week_empty_date_message ){																				?>											<p class="label"><?php echo $person_fullname; ?>:</p>											<p><?php echo $week_empty_date_message; ?></p>									<?php 											} 										}else{									?>										<p>No entries found.</p>									<?php } ?>								</div>								<div id="empty_month_hours" class="tab tab_content" style="display: none;">									<?php 										if($month_empty_date_message_array != null){											foreach($month_empty_date_message_array as $person_fullname => $month_empty_date_message ){ ?>										<p class="label"><?php echo $person_fullname; ?>:</p>										<p><?php echo $month_empty_date_message; ?></p>									<?php 											} 										}else{									?>										<p>No entries found.</p>									<?php } ?>								</div>																						</div>						</div>					</div>				</div>			</div>			<?php } ?>		</div>		<div class="one_half last">			<div class="data_container">				<div class="tab-holder">					<div class="tab-hold tabs-wrapper">						<div class="">							<ul id="tabs" class="tabset tabs">																<li class="tabs_li active">									<a href="#month">										<div class="data_title">											<h3 class="title">SEOWEB Goals <?php echo $month_name; ?></h3>										</div>									</a>								</li>								<li class="tabs_li">									<a href="#year">									<div class="data_title">										<h3 class="title">SEOWEB Goals <?php echo $year; ?></h3>									</div>									</a>								</li>								<li class="tabs_li">									<a href="#personal_month">									<div class="data_title">										<h3 class="title">Personal Goals <?php echo $month_name; ?></h3>									</div>									</a>								</li>								<li class="tabs_li">									<a href="#personal_year">									<div class="data_title">										<h3 class="title">Personal Goals <?php echo $year; ?></h3>									</div>									</a>								</li>															</ul>						</div>						<div class="data_content inner_padding">							<div class="tab-box tabs-container custom_goal">								<?php $person_goal = $current_person->person_goal; ?>								<div id="month" class="tab tab_content active">									<?php										$monthly_goal_list_array = array();										if($person_goal != null){											$person_goal_lists = unserialize($person_goal);																						foreach($person_goal_lists as $person_goal_list){												$monthly_goal_list_array[] = $person_goal_list;											}											}																			?>								<?php 									foreach($goals as $goal){										if($goal->goal_type == 'Monthly' && $goal->goals_time == $month_name && $goal->goal_person == null){											$goals_serialized = $goal->goals;											$goals_lists = unserialize($goals_serialized);											$goal_year = $goal->goal_year;											$goal_time = $goal->goals_time;											if($goals_lists != null){												foreach($goals_lists as $key => $goal){													$class = "monthly_".$goal_year."_".$goal_time."_".$key;													if($current_user_role == 'administrator'){										?>														<li><input <?php echo (in_array($class, $monthly_goal_list_array)) ? "checked" : ""; ?> id="monthly_goal_key_<?php echo $key; ?>" type="checkbox" class="goals_checkbox monthly_goals" name="monthly_goals" value="<?php echo $class; ?>"><?php echo $goal; ?></li>																					<?php 			}else{ ?>														<li class="goal_li">															<div id="icon_monthy_goal_key_<?php echo $key; ?>" class="unchecked_goals"></div>																											<p class="goals_checklist monthly_goals"><?php echo $goal; ?></p>														</li>												<?php													}												}											}										}									}								?>								</div>								<div id="year" class="tab tab_content"  style="display: none;">									<?php										$yearly_goal_list_array = array();										if($person_goal != null){											$person_goal_lists = unserialize($person_goal);											foreach($person_goal_lists as $person_goal_list){												$yearly_goal_list_array[] = $person_goal_list;											}											}									?>									<?php 										foreach($goals as $goal){											if($goal->goal_type == 'Yearly' && $goal->goals_time == $year && $goal->goal_person == null){												$goals_serialized = $goal->goals;												$goals_lists = unserialize($goals_serialized);												$goal_year = $goal->goal_year;												$goal_time = $goal->goals_time;													if($goals_lists != null){													foreach($goals_lists as $key => $goal){															$class = "yearly_".$goal_year."_".$goal_time."_".$key;														if($current_user_role == 'administrator'){																										?>														<li><input <?php echo (in_array($class, $yearly_goal_list_array)) ? "checked" : ""; ?> id="yearly_goal_key_<?php echo $key; ?>" type="checkbox" class="goals_checkbox yearly_goals" name="yearly_goals" value="<?php echo $class; ?>" /><?php echo $goal; ?></li>														<?php }else{ ?>														<li class="goal_li">															<div id="icon_yearly_goal_key_<?php echo $key; ?>" class="unchecked_goals"></div>																											<p class="goals_checklist yearly_goals"><?php echo $goal; ?></p>														</li>														<?php																									}													}												}											}										}									?>																</div>								<div id="personal_month" class="tab tab_content" style="display: none;">									<?php										$personalmonthly_goal_list_array = array();										foreach($goals as $goal){																							if($goal->goal_type == 'Monthly' && $goal->goal_person != null){												$goal_person = $goal->goal_person;												$goal_person_detail = $wpdb->get_row("SELECT * FROM {$table_name_person} WHERE person_fullname = '$goal_person'");												$person_goal = $goal_person_detail->person_goal;												$person_id = $goal_person_detail->ID;												if($person_goal != null){													$person_goal_lists = unserialize($person_goal);													foreach($person_goal_lists as $person_goal_list){														$personalmonthly_goal_list_array[] = $person_goal_list ."_". $person_id;													}													}											}										}										$current_personalmonthly_goal_list_array = array();																				if($person_goal != null){											$goal_person_detail = $wpdb->get_row("SELECT * FROM {$table_name_person} WHERE person_fullname = '$current_user_fullname'");											$person_id = $goal_person_detail->ID;											$person_goal_lists = unserialize($person_goal);											foreach($person_goal_lists as $person_goal_list){												$current_personalmonthly_goal_list_array[] = $person_goal_list ."_". $person_id;											}											}									?>									<?php 										if($current_user_role == 'administrator'){											foreach($goals as $goal){																								if($goal->goal_type == 'Monthly' && $goal->goals_time == $month_name && $goal->goal_person != null){													$goal_person = $goal->goal_person;													$goal_person_detail = $wpdb->get_row("SELECT * FROM {$table_name_person} WHERE person_fullname = '$goal_person'");													$person_id = $goal_person_detail->ID;													$goals_serialized = $goal->goals;													$goals_lists = unserialize($goals_serialized);													$goal_year = $goal->goal_year;													$goal_time = $goal->goals_time;													if($goals_lists != null){									?>														<p class="label"><?php echo $goal->goal_person; ?></p>									<?php														foreach($goals_lists as $key => $goal){														$class = "personalmonthly_".$goal_year."_".$goal_time."_".$key."_".$person_id;														?>																											<li><input <?php echo (in_array($class, $personalmonthly_goal_list_array)) ? "checked" : ""; ?> id="personal_monthly_goal_key_<?php echo $key; ?>" type="checkbox" class="goals_checkbox personal_monthly_goals" name="personal_monthly_goals" value="<?php echo $class; ?>"><?php echo $goal; ?></li>														<?php														}													}												}											}										}else{											foreach($goals as $goal){												if($goal->goal_type == 'Monthly' && $goal->goals_time == $month_name && $goal->goal_person != null){													if($goal->goal_person == $current_user_fullname){																												$goal_person_detail = $wpdb->get_row("SELECT * FROM {$table_name_person} WHERE person_fullname = '$current_user_fullname'");														$person_id = $goal_person_detail->ID;														$goals_serialized = $goal->goals;														$goals_lists = unserialize($goals_serialized);														$goal_year = $goal->goal_year;														$goal_time = $goal->goals_time;														if($goals_lists != null){															foreach($goals_lists as $key => $goal){																$class = "personalmonthly_".$goal_year."_".$goal_time."_".$key."_".$person_id;															?>																												<li><input <?php echo (in_array($class, $current_personalmonthly_goal_list_array)) ? "checked" : ""; ?> id="personal_monthly_goal_key_<?php echo $key; ?>" type="checkbox" class="goals_checkbox personal_monthly_goals" name="personal_monthly_goals" value="<?php echo $class; ?>"><?php echo $goal; ?></li>															<?php															}														}													}												}											}										}									?>								</div>								<div id="personal_year" class="tab tab_content" style="display: none;">									<?php 																			$personalyearly_goal_list_array = array();										foreach($goals as $goal){																							if($goal->goal_type == 'Yearly' && $goal->goals_time == $year && $goal->goal_person != null){												$goal_person = $goal->goal_person;												$goal_person_detail = $wpdb->get_row("SELECT * FROM {$table_name_person} WHERE person_fullname = '$goal_person'");												$person_goal = $goal_person_detail->person_goal;												$person_id = $goal_person_detail->ID;												if($person_goal != null){													$person_goal_lists = unserialize($person_goal);													foreach($person_goal_lists as $person_goal_list){														$personalyearly_goal_list_array[] = $person_goal_list ."_". $person_id;													}													}											}										}										$current_personalyearly_goal_list_array = array();																				if($person_goal != null){											$goal_person_detail = $wpdb->get_row("SELECT * FROM {$table_name_person} WHERE person_fullname = '$current_user_fullname'");											$person_id = $goal_person_detail->ID;											$person_goal_lists = unserialize($person_goal);											foreach($person_goal_lists as $person_goal_list){												$current_personalyearly_goal_list_array[] = $person_goal_list ."_". $person_id;											}											}									?>									<?php 										if($current_user_role == 'administrator'){											foreach($goals as $goal){												if($goal->goal_type == 'Yearly' && $goal->goals_time == $year && $goal->goal_person != null){													$goal_person = $goal->goal_person;													$goal_person_detail = $wpdb->get_row("SELECT * FROM {$table_name_person} WHERE person_fullname = '$goal_person'");													$person_id = $goal_person_detail->ID;													$goals_serialized = $goal->goals;													$goals_lists = unserialize($goals_serialized);													$goal_year = $goal->goal_year;													$goal_time = $goal->goals_time;													if($goals_lists != null){									?>														<p class="label"><?php echo $goal->goal_person; ?></p>									<?php																											foreach($goals_lists as $key => $goal){															$class = "personalyearly_".$goal_year."_".$goal_time."_".$key."_".$person_id;														?>														<li><input <?php echo (in_array($class, $personalyearly_goal_list_array)) ? "checked" : ""; ?> id="personal_yearly_goal_key_<?php echo $key; ?>" type="checkbox" class="goals_checkbox personal_yearly_goals" name="personal_yearly_goals" value="<?php echo $class; ?>"><?php echo $goal; ?></li>																										<?php														}													}												}											}										}else{											foreach($goals as $goal){												if($goal->goal_type == 'Yearly' && $goal->goals_time == $year && $goal->goal_person != null){													if($goal->goal_person == $current_user_fullname){														$goal_person_detail = $wpdb->get_row("SELECT * FROM {$table_name_person} WHERE person_fullname = '$current_user_fullname'");														$person_id = $goal_person_detail->ID;														$goals_serialized = $goal->goals;														$goals_lists = unserialize($goals_serialized);														$goal_year = $goal->goal_year;														$goal_time = $goal->goals_time;														if($goals_lists != null){															foreach($goals_lists as $key => $goal){																$class = "personalyearly_".$goal_year."_".$goal_time."_".$key."_".$person_id;															?>															<li><input <?php echo (in_array($class, $current_personalyearly_goal_list_array)) ? "checked" : ""; ?> id="personal_yearly_goal_key_<?php echo $key; ?>" type="checkbox" class="goals_checkbox personal_yearly_goals" name="personal_yearly_goals" value="<?php echo $class; ?>"><?php echo $goal; ?></li>																											<?php															}														}													}												}											}										}									?>								</div>															</div>														<a class="button_1 dashboard_add_link" href="/add-goals/">Add Goals</a>							<div style="display: none;" class="goal_action_loader loader"></div>						</div>					</div>				</div>			</div>					</div>			</div>	<div class="full_width dashboard_column second_section">		<div class="two_third">			<div class="full_width">				<div class="one_half monthly_ongoing_progress">					<div class="data_container">						<div class="data_title">							<h3 class="title">Monthly Ongoing Progress</h3>													</div>						<div class="data_content">							<div class="header_titles">								<div class="first_column column"><p class="data_content_title">Customer</p></div>								<div class="second_column column"><p class="data_content_title">MPS</p></div>								<div class="third_column column"><p class="data_content_title">MPW</p></div>								<div class="fourth_column column"><p class="data_content_title">HDS</p></div>								<div class="fifth_column column"><p class="data_content_title">HDW</p></div>								<div class="sixth_column column"><p class="data_content_title">SAT</p></div>							</div>							<?php 							$filter_month = "STR_TO_DATE(date_now, '%d/%m/%Y') BETWEEN STR_TO_DATE('01/$month_number/$year', '%d/%m/%Y') AND STR_TO_DATE('31/$month_number/$year', '%d/%m/%Y')";							$filter_year = "STR_TO_DATE(date_now, '%d/%m/%Y') BETWEEN STR_TO_DATE('01/01/$year', '%d/%m/%Y') AND STR_TO_DATE('31/12/$year', '%d/%m/%Y')";							//$filter_month = "STR_TO_DATE(date_now, '%d/%m/%Y') BETWEEN STR_TO_DATE('01/09/$year', '%d/%m/%Y') AND STR_TO_DATE('31/09/$year', '%d/%m/%Y')";								$client_no_monthly_plans = $wpdb->get_results('SELECT client_name FROM '.$table_name_client.' WHERE client_monthly_plan = "" OR client_monthly_plan = "NONE"');								$client_no_monthly_plans_array = array();								foreach ($client_no_monthly_plans as $client){									array_push($client_no_monthly_plans_array,$client->client_name);								}								$import_data_client = $wpdb->get_results("SELECT * FROM {$table_name_timesheet} WHERE $filter_month ORDER BY task_label ASC");								$task_client_name_array = array();								foreach ($import_data_client as $timesheet_data){							        if(!in_array($timesheet_data->task_label, $client_no_monthly_plans_array)){										array_push($task_client_name_array,$timesheet_data->task_label);							        }								}								$client_names = array_unique($task_client_name_array);								$client_tab_total_hour = "";															$client_tab_total_billable_hour = "";								$mps_mpw_sort_array = array();																foreach($client_names as $client_name){									$monthly_plan = $wpdb->get_row("SELECT client_monthly_plan FROM {$table_name_client} WHERE client_name = '$client_name'");									$monthly_plan_name = $monthly_plan->client_monthly_plan;									$client_satisfaction_details = $wpdb->get_row("SELECT * FROM {$table_name_client} WHERE client_name = '$client_name'");																		$client_satisfaction = $client_satisfaction_details->client_satisfaction;									$client_satisfaction_id = $client_satisfaction_details->ID;									$mps = $wpdb->get_row("SELECT monthly_seo_hours FROM {$table_name_monthly_plan} WHERE monthly_name ='$monthly_plan_name'");									$mps_hour = $mps->monthly_seo_hours;									$mpw = $wpdb->get_row("SELECT monthly_webdev_hours FROM {$table_name_monthly_plan} WHERE monthly_name = '$monthly_plan_name'");																	$mpw_hour = $mpw->monthly_webdev_hours;									$timesheet_data = $wpdb->get_results("SELECT * FROM {$table_name_timesheet} WHERE $filter_month AND task_label = '$client_name'");									$array_count = count($timesheet_data);																		$total_dev_hours = "";									$seo_array = array();									$dev_array = array();									for($x = 0; $x <= $array_count; $x++){										$project_name = $timesheet_data[$x]->task_project_name;																					$task_client_name = $timesheet_data[$x]->task_label;										$task_hour = $timesheet_data[$x]->task_hour;										$task_name = format_task_name($timesheet_data[$x]->task_name);										$tasks = $wpdb->get_row("SELECT * FROM {$table_name_task} WHERE task_name='$task_name'");																				$project_data = $wpdb->get_row("SELECT * FROM {$table_name_project} WHERE project_name = '$project_name' AND project_client = '$task_client_name'");										if($project_data->project_invoice_method == 1){											if($tasks->task_billable == 1){												if($project_name == 'Monthly Ongoing SEO'){													$seo_array[$task_client_name][] = 'SEO_' . $task_hour;												}elseif($project_name == 'Monthly Ongoing Dev'){													$dev_array[$task_client_name][] = 'DEV_' . $task_hour;																				}												}										}									}																		if($seo_array != null){										foreach($seo_array as $seo_client => $seo_hours){											$total_seo_hours_decimal = "";											foreach($seo_hours as $seo_hour){												$seo_hour_explode = explode('_', $seo_hour);												$seo_task_hour_decimal = round(decimalHours($seo_hour_explode[1]), 2);												$total_seo_hours_decimal += $seo_task_hour_decimal;											}																				}									}else{										$total_seo_hours_decimal = '00:00';									}																											if($dev_array != null){										foreach($dev_array as $dev_client => $dev_hours){											$total_dev_hours_decimal = "";											foreach($dev_hours as $dev_hour){												$dev_hour_explode = explode('_', $dev_hour);												$dev_task_hour_decimal = round(decimalHours($dev_hour_explode[1]), 2);												$total_dev_hours_decimal += $dev_task_hour_decimal;											}																					}									}else{										$total_dev_hours_decimal = '00:00';									}																		$total_seo_hours = round_quarter($total_seo_hours_decimal);									$total_dev_hours = round_quarter($total_dev_hours_decimal);									$compare_decimal_seo = decimalHours($total_seo_hours);									$compare_decimal_dev = decimalHours($total_dev_hours);									$mps_value = ($mps_hour != null) ? $mps_hour : 0;									$mpw_value = ($mpw_hour != null) ? $mpw_hour : 0;																		$mps_mpw_sort_array[$mps_value ."_". $mpw_value][] = $client_name ."_". $compare_decimal_seo ."_". $total_seo_hours ."_". $compare_decimal_dev ."_". $total_dev_hours ."_". $client_satisfaction ."_". $client_satisfaction_id;								}								krsort($mps_mpw_sort_array, SORT_NATURAL);								foreach($mps_mpw_sort_array as $mps_value_mpw_value => $mps_mpw_sorting){																		$mps_mpw_explode = explode('_', $mps_value_mpw_value);									$mps_hour = $mps_mpw_explode[0];									$mpw_hour = $mps_mpw_explode[1];																		foreach($mps_mpw_sorting as $mps_mpw_sort){										$mps_mpw_sort_explode = explode('_', $mps_mpw_sort);										$client_name = $mps_mpw_sort_explode[0];										$compare_decimal_seo = $mps_mpw_sort_explode[1];										$total_seo_hours = $mps_mpw_sort_explode[2];										$compare_decimal_dev = $mps_mpw_sort_explode[3];										$total_dev_hours = $mps_mpw_sort_explode[4];										$client_satisfaction = $mps_mpw_sort_explode[5];										$client_satisfaction_id = $mps_mpw_sort_explode[6];										$client_satisfaction_class = str_replace(" ", "_", $client_satisfaction);										$client_satisfaction_class = strtolower($client_satisfaction_class);							?>										<div class='info_div'>											<div class="client_info first_column column"><li><?php echo $client_name; ?></li></div>											<div class="second_column column"><li><?php echo ($mps_hour != null ? $mps_hour : '-'); ?></li></div>											<div class="third_column column"><li><?php echo ($mpw_hour != null ? $mpw_hour : '-'); ?></li></div>											<div class="fourth_column column">												<li class="<?php echo ($mps_hour != null && $compare_decimal_seo >= $mps_hour && $compare_decimal_seo != '0' ? 'green_bg' : ''); ?>">													<?php echo ($total_seo_hours != "" ? $total_seo_hours : 0); ?>												</li>											</div>											<div class="fifth_column column">												<li class="<?php echo ($mpw_hour != null && $compare_decimal_dev >= $mpw_hour && $compare_decimal_seo != '0' ? 'green_bg' : ''); ?>">													<?php echo ($total_dev_hours != "" ? $total_dev_hours : 0); ?>												</li>											</div>											<div id="client_satisfaction_<?php echo $client_satisfaction_id; ?>" class="client_satisfaction_column sixth_column column"><li class="<?php echo $client_satisfaction_class; ?>"></li>												<div style="display:none" id="client_satisfaction_note_<?php echo $client_satisfaction_id; ?>" class="client_satisfaction_note <?php echo $client_satisfaction_class; ?>"><p><?php echo $client_satisfaction; ?></p></div>											</div>																		</div>														<?php 																		}								}							?>						</div>						<p>*MPS=Monthly Plan SEO, MPW=Monthly Plan Web</p>						<p>*HDS=Hours Done SEO, HDW=Hours Done Web</p>						<p>*SAT - Customer satisfaction</p>					</div>				</div>				<div class="one_half last active_projects">					<div class="data_container">						<div class="data_title"><h3 class="title">Active Webdev Projects</h3></div>						<div class="data_content">							<div class="header_titles">								<div class="first_column column"><p class="data_content_title">Customer</p></div>								<div class="second_column column"><p class="data_content_title">Project Name</p></div>								<div class="third_column column"><p class="data_content_title">Hours</p></div>								<div class="fourth_column column"><p class="data_content_title">Deadline</p></div>								<div class="fifth_column column"><p class="data_content_title">Status</p></div>							</div>							<?php 								$projects = $wpdb->get_results("SELECT * FROM {$table_name_project} WHERE project_current_status <> 'Planning' AND project_current_status <> 'Quote sent' ORDER BY project_client ASC");															foreach($projects as $project){																		if($project->project_status == 'unarchived'){																				$project_current_status = $project->project_current_status;										$project_estimated_deadline = $project->project_estimated_deadline;																		$project_client_name = $project->project_client;										$project_name = $project->project_name;										$project_start_date	= $project->project_start_date;											$start_date = date("d/m/Y", strtotime($project_start_date));										$today_date	= date('d/m/Y');											if($project_client_name != 'SEOWeb Solutions'){											if($project_name != 'Monthly Ongoing Dev' && $project_name != 'Monthly Ongoing SEO' && $project_name != 'Training' && $project_name !='Non working team' && $project_name !='Issue/Bug' ){												$timesheet_details = $wpdb->get_results("SELECT * FROM {$table_name_timesheet} WHERE task_label = '$project_client_name' AND task_project_name = '$project_name' AND STR_TO_DATE(date_now, '%d/%m/%Y') BETWEEN STR_TO_DATE('$start_date', '%d/%m/%Y') AND STR_TO_DATE('$today_date', '%d/%m/%Y')");												$total_project_hour = "";																						foreach($timesheet_details as $timesheet_detail){																							$task_hour = $timesheet_detail->task_hour;													$task_hour_decimal = round(decimalHours($task_hour), 2);													$total_project_hour += $task_hour_decimal;												}												$today = date('m/d/Y');												$today_date_ongoing_format = date("d/m/y", strtotime($today));												$today_date_ongoing_explode = explode('/', $today_date_ongoing_format);												$today_date_ongoing_mktime = mktime(0, 0, 0, $today_date_ongoing_explode[1], $today_date_ongoing_explode[0], $today_date_ongoing_explode[2]);																								$project_estimated_deadline_format = date("d/m/y", strtotime($project_estimated_deadline));												$project_estimated_deadline_explode = explode('/', $project_estimated_deadline_format);												$project_estimated_deadline_mktime = mktime(0, 0, 0, $project_estimated_deadline_explode[1], $project_estimated_deadline_explode[0], $project_estimated_deadline_explode[2]);							?>												<div class='info_div'>													<div class="client_info first_column column"><li><?php echo ($project_client_name != "" ? $project_client_name : '--'); ?></li></div>													<div class="second_column column"><li><?php echo $project_name; ?></li></div>													<div class="third_column column"><li><?php echo ($total_project_hour != "" ? round_quarter($total_project_hour) : 0); ?></li></div>													<div class="fourth_column column"><li class="<?php echo ($today_date_ongoing_mktime > $project_estimated_deadline_mktime) ? "red_bg" : ""; ?>"><?php echo $project_estimated_deadline; ?></li></div>													<div class="fifth_column column"><li><?php echo $project_current_status; ?></li></div>												</div>								<?php											}										}									}								}															?>											</div>					</div>					<div id="planned_projects" class="data_container">						<div class="data_title"><h3 class="title">Prospects & Planned Projects</h3></div>						<div class="data_content">							<div class="header_titles">								<div class="first_column column"><p class="data_content_title">Customer</p></div>								<div class="second_column column"><p class="data_content_title">Project Name</p></div>								<div class="third_column column"><p class="data_content_title">Hours</p></div>								<div class="fourth_column column"><p class="data_content_title">Deadline</p></div>								<div class="fifth_column column"><p class="data_content_title">Status</p></div>							</div>							<?php 								$projects = $wpdb->get_results("SELECT * FROM {$table_name_project} WHERE project_current_status = 'Planning' OR project_current_status = 'Quote sent' ORDER BY project_client ASC");														foreach($projects as $project){																		if($project->project_status == 'unarchived'){																				$project_current_status = $project->project_current_status;										$project_estimated_deadline = $project->project_estimated_deadline;																		$project_client_name = $project->project_client;										$project_name = $project->project_name;										$project_start_date	= $project->project_start_date;											$start_date = date("d/m/Y", strtotime($project_start_date));										$today_date	= date('d/m/Y');											if($project_client_name != 'SEOWeb Solutions'){											if($project_name != 'Monthly Ongoing Dev' && $project_name != 'Monthly Ongoing SEO' && $project_name != 'Training' && $project_name !='Non working team' && $project_name !='Issue/Bug' ){												$timesheet_details = $wpdb->get_results("SELECT * FROM {$table_name_timesheet} WHERE task_label = '$project_client_name' AND task_project_name = '$project_name' AND STR_TO_DATE(date_now, '%d/%m/%Y') BETWEEN STR_TO_DATE('$start_date', '%d/%m/%Y') AND STR_TO_DATE('$today_date', '%d/%m/%Y')");												$total_project_hour = "";																						foreach($timesheet_details as $timesheet_detail){																							$task_hour = $timesheet_detail->task_hour;													$task_hour_decimal = round(decimalHours($task_hour), 2);													$total_project_hour += $task_hour_decimal;												}												$today = date('m/d/Y');												$today_date_ongoing_format = date("d/m/y", strtotime($today));												$today_date_ongoing_explode = explode('/', $today_date_ongoing_format);												$today_date_ongoing_mktime = mktime(0, 0, 0, $today_date_ongoing_explode[1], $today_date_ongoing_explode[0], $today_date_ongoing_explode[2]);																								$project_estimated_deadline_format = date("d/m/y", strtotime($project_estimated_deadline));												$project_estimated_deadline_explode = explode('/', $project_estimated_deadline_format);												$project_estimated_deadline_mktime = mktime(0, 0, 0, $project_estimated_deadline_explode[1], $project_estimated_deadline_explode[0], $project_estimated_deadline_explode[2]);							?>												<div class='info_div'>													<div class="client_info first_column column"><li><?php echo ($project_client_name != "" ? $project_client_name : '--'); ?></li></div>													<div class="second_column column"><li><?php echo $project_name; ?></li></div>													<div class="third_column column"><li><?php echo ($total_project_hour != "" ? round_quarter($total_project_hour) : 0); ?></li></div>													<div class="fourth_column column"><li class="<?php echo ($today_date_ongoing_mktime > $project_estimated_deadline_mktime) ? "red_bg" : ""; ?>"><?php echo $project_estimated_deadline; ?></li></div>													<div class="fifth_column column"><li><?php echo $project_current_status; ?></li></div>												</div>								<?php											}										}									}								}															?>											</div>					</div>					<div class="data_container customer_issues_bug">						<div class="data_title"><h3 class="title">Customer Issues/bugs</h3></div>						<div class="data_content">							<div class="header_titles">								<div class="first_column column"><p class="data_content_title">Customer</p></div>								<div class="second_column column"><p class="data_content_title">Project Name</p></div>								<div class="third_column column"><p class="data_content_title">M-Hours</p></div>								<div class="fourth_column column"><p class="data_content_title">Y-Hours</p></div>							</div>							<?php 								$customer_issues_bug = $wpdb->get_results("SELECT * FROM {$table_name_project} ORDER BY project_client ASC");															foreach($customer_issues_bug as $project){																		if($project->project_status == 'unarchived'){										$project_current_status = $project->project_current_status;										$project_estimated_deadline = $project->project_estimated_deadline;																			$project_client_name = $project->project_client;										$project_name = $project->project_name;																				if($project_name == 'Issue/Bug'){											$timesheet_year_details = $wpdb->get_results("SELECT * FROM {$table_name_timesheet} WHERE $filter_year AND task_label = '$project_client_name' AND task_project_name = '$project_name'");											$timesheet_month_details = $wpdb->get_results("SELECT * FROM {$table_name_timesheet} WHERE $filter_month AND task_label = '$project_client_name' AND task_project_name = '$project_name'");																						$year_total_project_hour = "";											foreach($timesheet_year_details as $timesheet_year_detail){																						$task_hour = $timesheet_year_detail->task_hour;												$task_hour_decimal = round(decimalHours($task_hour), 2);												$year_total_project_hour += $task_hour_decimal;											}																							$month_total_project_hour = "";											foreach($timesheet_month_details as $timesheet_month_detail){																						$task_hour = $timesheet_month_detail->task_hour;												$task_hour_decimal = round(decimalHours($task_hour), 2);												$month_total_project_hour += $task_hour_decimal;											}																						if($month_total_project_hour != null || $year_total_project_hour != null){										?>										<div class='info_div'>											<div class="client_info first_column column"><li><?php echo ($project_client_name != "" ? $project_client_name : '--'); ?></li></div>											<div class="second_column column"><li><?php echo ($project_name != "" ? $project_name : '--'); ?></li></div>											<div class="third_column column"><li><?php echo ($month_total_project_hour != "" ? round_quarter($month_total_project_hour) : 0); ?></li></div>											<div class="fourth_column column"><li><?php echo ($year_total_project_hour != "" ? round_quarter($year_total_project_hour) : 0); ?></li></div>										</div>											<?php											}										}									}								}															?>											</div>					</div>					<div class="data_container seoweb_internal">						<div class="data_title"><h3 class="title">SEOWeb Internal</h3></div>						<div class="data_content">							<div class="header_titles">								<div class="first_column column"><p class="data_content_title">Project Name</p></div>								<div class="second_column column"><p class="data_content_title">M-Hours</p></div>								<div class="third_column column"><p class="data_content_title">Y-Hours</p></div>								<div class="fourth_column column"><p class="data_content_title">Status</p></div>							</div>							<?php 								$projects_internal = $wpdb->get_results("SELECT * FROM {$table_name_project} ORDER BY project_client ASC");															foreach($projects_internal as $project){									if($project->project_status == 'unarchived'){										$project_current_status = $project->project_current_status;										$project_estimated_deadline = $project->project_estimated_deadline;																			$project_client_name = $project->project_client;										$project_name = $project->project_name;										if($project_client_name == 'SEOWeb Solutions'){											$month_timesheet_details = $wpdb->get_results("SELECT * FROM {$table_name_timesheet} WHERE $filter_month AND task_label = '$project_client_name' AND task_project_name = '$project_name'");											$year_timesheet_details = $wpdb->get_results("SELECT * FROM {$table_name_timesheet} WHERE $filter_year AND task_label = '$project_client_name' AND task_project_name = '$project_name'");																						$month_total_project_hour = "";																					foreach($month_timesheet_details as $month_timesheet_detail){												$task_hour = $month_timesheet_detail->task_hour;												$task_hour_decimal = round(decimalHours($task_hour), 2);												$month_total_project_hour += $task_hour_decimal;											}																						$year_total_project_hour = "";											foreach($year_timesheet_details as $year_timesheet_detail){												$task_hour = $year_timesheet_detail->task_hour;												$task_hour_decimal = round(decimalHours($task_hour), 2);												$year_total_project_hour += $task_hour_decimal;											}										?>										<div class='info_div'>											<div class="first_column column"><li><?php echo $project_name; ?></li></div>											<div class="second_column column"><li><?php echo ($month_total_project_hour != "" ? round_quarter($month_total_project_hour) : 0); ?></li></div>											<div class="third_column column"><li><?php echo ($year_total_project_hour != "" ? round_quarter($year_total_project_hour) : 0); ?></li></div>											<div class="fourth_column column"><li><?php echo $project_current_status; ?></li></div>										</div>											<?php										}									}								}															?>											</div>					</div>				</div>			</div>			<div class="full_width"><?php dynamic_sidebar('Polls'); ?></div>		</div>		<div class="one_third last"><!-- 			<div class="data_container">				<div class="data_title">					<h3 class="title">Time</h3>				</div>				<div class="data_content inner_padding">					<h1 class="center" style="text-align: center;"></h1>					<p>Timezone: <?php echo $timezone; ?></p>				</div>			</div> -->			<div class="data_container monthly_status">				<?php 					$month_year = date ('F') ." ". $year;										foreach($persons as $person){ 						$person_name = $person->person_fullname;						if($person_name == $current_user_fullname){							$person_hour_per_day = $person->person_hours_per_day;						}					}										if($person_hour_per_day != null ){						$hour_per_day = $person_hour_per_day;						}else{						$hour_per_day = 8;					}										$today = date('d/m/Y');					$check_today_timesheet = $wpdb->get_results("SELECT * FROM {$table_name_timesheet} WHERE date_now = '$today' AND task_person = '$current_user_fullname'");					if($check_today_timesheet != null){ /* TODAY STAT */						$timesheet_month_details = $wpdb->get_results("SELECT * FROM {$table_name_timesheet} WHERE task_person = '$current_user_fullname' AND STR_TO_DATE(date_now, '%d/%m/%Y') BETWEEN STR_TO_DATE('01/$month_number/$year', '%d/%m/%Y') AND STR_TO_DATE('31/$month_number/$year', '%d/%m/%Y')"); 												$holiday_date = array();						foreach($timesheet_month_details as $timesheet_month_detail){							$task_name = format_task_name($timesheet_month_detail->task_name);							if($task_name == 'Holiday'){								$date = date('Y/m/d', strtotime($timesheet_month_detail->date_now));								$holiday_date[] = $date;							}						}						$holiday_count = count($holiday_date);						$holiday_hours = $holiday_count * $hour_per_day;												$date1 = "$year/$month_number/01";						$date2 =  date('Y/m/d');						$working_days = getWorkingDays($date1, $date2);						$worked_hours = (($working_days * $hour_per_day) - $holiday_hours);												$total_month_hours = 0;						foreach($timesheet_month_details as $timesheet_month_detail){							$task_name = format_task_name($timesheet_month_detail->task_name);							if($task_name != 'Holiday'){													$task_hour 			= $timesheet_month_detail->task_hour;													$task_hour_decimal 	= round(decimalHours($task_hour), 2);													$total_month_hours	+= $task_hour_decimal;							}											}						$total_hours_worked = $total_month_hours;						if(strpos($total_hours_worked, ".") === false){							$format_total_hours_worked = $total_hours_worked;							}else{							$exploded_hours = explode(".",$total_hours_worked);											$hours = $exploded_hours[0];							$minutes = $exploded_hours[1];							$round_minutes = round_nearest($minutes, 5);							if($round_minutes == 0){								$format_total_hours_worked = $hours;								}else{								$format_total_hours_worked = $hours .".". $round_minutes;							}						}												$hour_balance = ($format_total_hours_worked - $worked_hours);						if($worked_hours  > $format_total_hours_worked){							$p_class = "text_red";							}else{							$p_class = "text_green";						}															foreach($timesheet_month_details as $timesheet_month_detail){							$task_name = format_task_name($timesheet_month_detail->task_name);											if($task_name == 'Holiday Work'){								$holiday_work_date = $timesheet_month_detail->date_now;								$holiday_work_details = $wpdb->get_results("SELECT * FROM {$table_name_timesheet} WHERE task_person = '$current_user_fullname' AND STR_TO_DATE(date_now, '%d/%m/%Y') BETWEEN STR_TO_DATE('01/$month_number/$year', '%d/%m/%Y') AND STR_TO_DATE('31/$month_number/$year', '%d/%m/%Y') AND date_now ='$holiday_work_date'"); 								$holiday_work_hours = 0;								foreach ($holiday_work_details as $holiday_work_detail){									$task_hour = $holiday_work_detail->task_hour;									$task_hour_decimal 	= round(decimalHours($task_hour), 2);									$holiday_work_hours	+= $task_hour_decimal;								}							}											}						if($holiday_work_hours != null){							$total_holiday_work = $holiday_work_hours;							}else{							$total_holiday_work = 0;						}						}else{ /* YESTERDAY STAT */						$yesterday = date('d/m/Y',strtotime("-1 days"));						$yesterday_format = date('Y/m/d',strtotime("-1 days"));						$timesheet_month_details = $wpdb->get_results("SELECT * FROM {$table_name_timesheet} WHERE task_person = '$current_user_fullname' AND STR_TO_DATE(date_now, '%d/%m/%Y') BETWEEN STR_TO_DATE('01/$month_number/$year', '%d/%m/%Y') AND STR_TO_DATE('$yesterday', '%d/%m/%Y')"); 						$holiday_date = array();						foreach($timesheet_month_details as $timesheet_month_detail){							$task_name = format_task_name($timesheet_month_detail->task_name);							if($task_name == 'Holiday'){								$date = date('Y/m/d', strtotime($timesheet_month_detail->date_now));								$holiday_date[] = $date;							}						}						$holiday_count = count($holiday_date);						$holiday_hours = $holiday_count * $hour_per_day;												$date1 = "$year/$month_number/01";						$date2 =  $yesterday_format;						$working_days = getWorkingDays($date1, $date2);						$worked_hours = (($working_days * $hour_per_day) - $holiday_hours);												$total_month_hours = 0;						foreach($timesheet_month_details as $timesheet_month_detail){							$task_name = format_task_name($timesheet_month_detail->task_name);							if($task_name != 'Holiday'){													$task_hour 			= $timesheet_month_detail->task_hour;													$task_hour_decimal 	= round(decimalHours($task_hour), 2);													$total_month_hours	+= $task_hour_decimal;							}											}						$total_hours_worked = $total_month_hours;						if(strpos($total_hours_worked, ".") === false){							$format_total_hours_worked = $total_hours_worked;							}else{							$exploded_hours = explode(".",$total_hours_worked);											$hours = $exploded_hours[0];							$minutes = $exploded_hours[1];							$round_minutes = round_nearest($minutes, 5);							if($round_minutes == 0){								$format_total_hours_worked = $hours;								}else{								$format_total_hours_worked = $hours .".". $round_minutes;							}						}												$hour_balance = ($format_total_hours_worked - $worked_hours);						if($worked_hours  > $format_total_hours_worked){							$p_class = "text_red";							}else{							$p_class = "text_green";						}															foreach($timesheet_month_details as $timesheet_month_detail){							$task_name = format_task_name($timesheet_month_detail->task_name);											if($task_name == 'Holiday Work'){								$holiday_work_date = $timesheet_month_detail->date_now;								$holiday_work_details = $wpdb->get_results("SELECT * FROM {$table_name_timesheet} WHERE task_person = '$current_user_fullname' AND STR_TO_DATE(date_now, '%d/%m/%Y') BETWEEN STR_TO_DATE('01/$month_number/$year', '%d/%m/%Y') AND STR_TO_DATE('31/$month_number/$year', '%d/%m/%Y') AND date_now ='$holiday_work_date'"); 								$holiday_work_hours = 0;								foreach ($holiday_work_details as $holiday_work_detail){									$task_hour = $holiday_work_detail->task_hour;									$task_hour_decimal 	= round(decimalHours($task_hour), 2);									$holiday_work_hours	+= $task_hour_decimal;								}							}											}						if($holiday_work_hours != null){							$total_holiday_work = $holiday_work_hours;							}else{							$total_holiday_work = 0;						}					}					?>				<div class="data_title">					<h3 class="title"><?php echo $month_year; ?></h3>				</div>					<div class="month_stat data_content inner_padding">										<div class="month_details">						<p class="label">Workable hours so far:</p>								<p class="hours worked_hours"><?php echo $worked_hours; ?></p>					</div>					<div class="month_details">						<p class="label">Total hours worked:</p>						<p class="hours total_hours_worked"><?php echo $format_total_hours_worked; ?></p>					</div>					<div class="month_details">						<p class="label">Overtime/undertime Balance:</p>						<p class="hours hour_balance <?php echo $p_class; ?>"><?php echo $hour_balance; ?></p>					</div>					<div class="month_details">						<p class="label">Holiday hours so far:</p>						<p class="hours holiday_hours"><?php echo $holiday_hours; ?></p>					</div>					<div class="month_details">						<p class="label">Holiday Balance:</p>						<p class="hours holiday_balance"><?php echo $total_holiday_work; ?></p>					</div>					<div class="link_buttons">						<a href="/timesheet/" class="button_1">Timesheet</a>						<a class="button_1" href="/checklist-task/">Checklists</a>					</div>									</div>											</div>			<div class="data_container">				<div class="data_title">					<h3 class="title">Latest Updates</h3>				</div>				<div class="data_content inner_padding">					<?php 						$args = array(							'posts_per_page'   => 5,							'orderby'          => 'date',							'order'            => 'DESC',							'post_type'        => 'post',							'post_status'      => 'publish'							);						$lastest_updates = get_posts( $args );						foreach($lastest_updates as $post){										?>						<li><a href="<?php echo get_the_permalink($post->ID) ?>"><?php echo $post->post_title; ?></a></li>					<?php }	?>				</div>			</div>			<div class="data_container">				<div class="data_title">					<h3 class="title">Latest Incident Reports</h3>				</div>				<div class="data_content inner_padding">					<?php 						$args = array(							'posts_per_page'   => 5,							'category'    		=> 7,							'orderby'          => 'date',							'order'            => 'DESC',							'post_type'        => 'post',							'post_status'      => 'publish'							);						$incident = get_posts( $args ); 						foreach($incident as $post){											?>							<li><a href="<?php echo get_the_permalink($post->ID) ?>"><?php echo $post->post_title; ?></a></li>					<?php }	?>				</div>			</div>			<div class="data_container">				<div class="data_title">					<h3 class="title">Resources Webdev</h3>				</div>				<div class="data_content inner_padding">					<?php 						$args = array(							'posts_per_page'   => 5,							'category'    		=> 7,							'orderby'          => 'date',							'order'            => 'DESC',							'post_type'        => 'post',							'post_status'      => 'publish'							);						$incident = get_posts( $args ); 						foreach($incident as $post){											?>							<li><a href="<?php echo get_the_permalink($post->ID) ?>"><?php echo $post->post_title; ?></a></li>					<?php }	?>				</div>			</div>			<div class="data_container">				<div class="data_title">					<h3 class="title">Resources SEO</h3>				</div>				<div class="data_content inner_padding">					<?php dynamic_sidebar( 'home_right_1' ); ?>				</div>			</div>			<div class="data_container">				<div class="data_title">					<h3 class="title">Resources Amazon</h3>				</div>				<div class="data_content inner_padding">					<?php dynamic_sidebar( 'home_right_2' ); ?>				</div>			</div>			<div class="data_container">				<div class="data_title">					<h3 class="title">Latest Training & Guidelines</h3>				</div>				<div class="data_content inner_padding">					<?php 						$args = array(						'posts_per_page'   => 5,						'category'    		=> 5,						'orderby'          => 'date',						'order'            => 'DESC',						'post_type'        => 'post',						'post_status'      => 'publish'						);						$training = get_posts( $args ); 						foreach($training as $post){											?>							<li><a href="<?php echo get_the_permalink($post->ID) ?>"><?php echo $post->post_title; ?></a></li>					<?php }	?>				</div>			</div>		</div>	</div></div><script>jQuery(document).ready(function(){	// Tabs	jQuery('.tabs-wrapper').each(function() {	jQuery(this).find(".tab_content").hide(); 	if(document.location.hash && jQuery(this).find("ul.tabs li a[href='"+document.location.hash+"']").length >= 1) {		jQuery(this).find(".tab_content.active").show(); 	} else {		jQuery(this).find(".tab_content.active").show();	}	});	//On Click Event	jQuery("ul.tabs li").click(function() {		jQuery(this).parents('.tabs-wrapper').find("ul.tabs li").removeClass("active"); 		jQuery(this).addClass("active");		jQuery(this).parents('.tabs-wrapper').find(".tab_content").hide();		var activeTab = jQuery(this).find("a").attr("href"); 		jQuery(this).parents('.tabs-wrapper').find(activeTab).fadeIn(100); 		jQuery(this).parents('.tabs-wrapper').find(activeTab).find('.content-boxes').each(function() {		var cols = jQuery(this).find('.col').length;		jQuery(this).addClass('columns-'+cols);		});	});});</script><?php	}else{	echo "<div class='login_box'>";	if  (function_exists ('wplb_login'))   { wplb_login(); } 	echo "</div>";	} ?><div style="display:none;" class="dialog_client_information" id="dialog_client_information" title="Client Information">	<div class="full_width">		<div class="one_half">			<p class="label">Customer Info:</p>			<p class="client_name"></p>			<p class="client_address"></p>			<p class="label">Contact Person:</p>			<p class="client_contact_person"></p>			<p class="client_contact_phone"></p>			<p class="client_contact_email"></p>		</div>		<div class="one_half last">			<div class="full_width">				<p class="label">Monthly Plan: </p>				<p class="client_monthly_plan"></p>			</div>			<div class="full_width">				<p class="label">Customer Satisfaction: </p>				<p class="client_satisfaction"></p>			</div>			<div class="full_width">				<p class="label">Current Active WebDev Projects: </p>				<p class="current_active_webdev_projects"></p>			</div>			<div class="full_width">				<p class="label">Monthly Ongoing Stat: </p>				<p class="monthly_ongoing_stat"></p>			</div>		</div>	</div>	<div class="full_width">		<h3>Customer Sites</h3>		<div class="header_titles">			<div class="first_column column">URL</div>			<div class="second_column column">Site Type</div>			<div class="third_column column">Platform</div>			<div class="fourth_column column">Version</div>			<div class="fifth_column column">Username</div>			<div class="sixth_column column">Password</div>			<div class="seventh_column column">L</div>		</div>		<div class="site_container"></div>	</div></div><?php get_footer(); ?>